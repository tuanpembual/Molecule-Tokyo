molecule init --role nginx \\
--verifier serverspec \\
--driver docker

cd nginx; bundle install 

vim tasks/main.yml
---
# tasks file for nginx
- name: install apt-transport-https
  apt: name=apt-transport-https update_cache=yes
  become: yes

- name: install packages
  apt: name={{ item }} update_cache=yes force=yes
  with_items:
    - nginx
    - curl
    - net-tools
  become: yes
  notify:
    - restart nginx

vim handlers/main.yml
---
# handlers file for nginx
- name: restart nginx
  service: name=nginx state=restarted
  become: yes

vim spec/default_spec.rb

require 'spec_helper'

describe service('nginx') do
  it { should be_running }
end

describe port(80) do
  it { should be_listening }
end

molecule test